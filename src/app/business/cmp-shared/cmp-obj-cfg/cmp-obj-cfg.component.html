<!-- select dataRefer -->
<ng-template #dataReferTemplate let-msInstance='msInstance' let-dataRefer='dataRefer'>
    <div class='ogms-form-item' nz-row>
        <span nz-col nzSpan='6'>DataRefer</span>
        <div nz-col nzSpan='18'>
            <nz-cascader style='width: 530px;' [nzSize]='"large"' [nzOptions]='msInstance.options' [ngModel]='msInstance.dataRefer' (ngModelChange)='onDataReferChange($event, msInstance, dataRefer)'></nz-cascader>
        </div>
    </div>
</ng-template>

<!-- layout -->
<div style='margin-bottom: 15px;'>
    <nz-tabset [nzType]="'card'">
        <nz-tab *ngFor="let msInstance of _msInstances; let i=index;">
            <ng-template #nzTabHeading>
                {{msInstance.meta.name}}
            </ng-template>
            <div>
                <ng-template [ngTemplateOutlet]='dataReferTemplate' [ngTemplateOutletContext]='{msInstance: msInstance, dataRefer: dataRefers[i]}'></ng-template>
            </div>
        </nz-tab>
    </nz-tabset>
</div>

<ng-container *ngIf='!validSchema'>
    <div class='ogms-form-item'>
        Please select the data that has same reference schema.
    </div>
</ng-container>

<div *ngIf='cmpObj.schemaId && validSchema' class='ogms-form-item' nz-row>
    <span nz-col nzSpan='6'>Select comparison methods</span>
    <div nz-col nzSpan='18'>
        <label *ngFor='let method of methods' nz-checkbox [(ngModel)]="method.checked" (ngModelChange)="onMethodChange()">
            <span>{{method.label}}</span>
        </label>
    </div>
</div>