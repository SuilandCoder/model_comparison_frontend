<form nz-form [formGroup]="validateForm" (ngSubmit)="submitForm($event,validateForm.value)">
    <nz-form-item>
        <nz-form-label [nzSpan]="7" nzRequired>Username</nz-form-label>
        <nz-form-control [nzSpan]="12" nzHasFeedback nzHasFeedback>
            <input nz-input formControlName="userName" placeholder="async validate try to write JasonWood">
            <nz-form-explain *ngIf="validateForm.get('userName').dirty && validateForm.get('userName').errors || validateForm.get('userName').pending ">
                <ng-container *ngIf="validateForm.get('userName').hasError('required')">
                    Please input your username!
                </ng-container>
                <ng-container *ngIf="validateForm.get('userName').hasError('duplicated')">
                    The username is redundant!
                </ng-container>
                <ng-container *ngIf="validateForm.get('userName').pending">
                    Validating...
                </ng-container>
            </nz-form-explain>
        </nz-form-control>
    </nz-form-item>
    <nz-form-item>
        <nz-form-label [nzSpan]="7" nzRequired>E-mail</nz-form-label>
        <nz-form-control [nzSpan]="12" nzHasFeedback nzHasFeedback>
            <input nz-input formControlName="email" placeholder="email" type="email">
            <nz-form-explain *ngIf="validateForm.get('email').dirty&&validateForm.get('email').errors">
                <ng-container *ngIf="validateForm.get('email').hasError('email')">
                    The input is not valid E-mail!
                </ng-container>
                <ng-container *ngIf="validateForm.get('email').hasError('required')">
                    Please input your E-mail!
                </ng-container>
            </nz-form-explain>
        </nz-form-control>
    </nz-form-item>
    <nz-form-item>
        <nz-form-label [nzSpan]="7" nzRequired>Password</nz-form-label>
        <div>
            <nz-form-control [nzSpan]="12" nzHasFeedback nzHasFeedback>
                <input nz-input type="password" formControlName="password" (ngModelChange)="validateConfirmPassword()">
                <nz-form-explain *ngIf="validateForm.get('password').dirty&&validateForm.get('password').hasError('required')">Please input your password!</nz-form-explain>
            </nz-form-control>
        </div>
    </nz-form-item>
    <nz-form-item>
        <nz-form-label [nzSpan]="7" nzRequired>Confirm Password</nz-form-label>
        <nz-form-control [nzSpan]="12" nzHasFeedback nzHasFeedback>
            <input nz-input type="password" formControlName="confirm" placeholder="confirm your password">
            <nz-form-explain *ngIf="validateForm.get('confirm').dirty&&validateForm.get('confirm').errors">
                <ng-container *ngIf="validateForm.get('confirm').hasError('required')">
                    Please confirm your password!
                </ng-container>
                <ng-container *ngIf="validateForm.get('confirm').hasError('confirm')">
                    Password is inconsistent!
                </ng-container>
            </nz-form-explain>
        </nz-form-control>
    </nz-form-item>
    <nz-form-item>
        <nz-form-label [nzSpan]="7" nzRequired>Comment</nz-form-label>
        <nz-form-control [nzSpan]="12" nzHasFeedback>
            <textarea formControlName="comment" nz-input rows="2" placeholder="write any thing"></textarea>
            <nz-form-explain *ngIf="validateForm.get('comment').dirty&&validateForm.get('comment').hasError('required')">Please write something here!</nz-form-explain>
        </nz-form-control>
    </nz-form-item>

    <div formGroupName='obj'>
        <nz-form-item>
            <nz-form-label [nzSpan]="7" nzRequired>Object prop 1</nz-form-label>
            <nz-form-control [nzSpan]="12" nzHasFeedback>
                <textarea formControlName="prop1" nz-input rows="2" placeholder="write any thing"></textarea>
                <nz-form-explain *ngIf="validateForm.get('obj.prop1').dirty&&validateForm.get('obj.prop1').hasError('required')">Please write something here!</nz-form-explain>
            </nz-form-control>
        </nz-form-item>
        <nz-form-item>
            <nz-form-label [nzSpan]="7" nzRequired>Object prop 2</nz-form-label>
            <nz-form-control [nzSpan]="12" nzHasFeedback>
                <textarea formControlName="prop2" nz-input rows="2" placeholder="write any thing"></textarea>
                <nz-form-explain *ngIf="validateForm.get('obj.prop2').dirty&&validateForm.get('obj.prop2').hasError('required')">Please write something here!</nz-form-explain>
            </nz-form-control>
        </nz-form-item>
        <div formGroupName='nested'>
            <nz-form-item>
                <nz-form-label [nzSpan]="7" nzRequired>Object nested prop</nz-form-label>
                <!-- <nz-form-control [nzSpan]="12"> -->
                    <!-- <textarea nz-input rows="2" placeholder="write any thing" [ngModel]='validateForm.controls["obj"].controls["nested"].value | json'></textarea> -->
                    <!-- <nz-form-explain *ngIf="validateForm.get('obj.nested').dirty&&validateForm.get('obj.nested').hasError('required')">Please write something here!</nz-form-explain> -->
                <!-- </nz-form-control> -->
            </nz-form-item>
        </div>
    </div>
    <div formArrayName='array'>
        <!-- <ng-container *ngFor='let item of validateForm.controls["array"].controls;let i=index;'>
            <div [formGroupName]='i'>
                <nz-form-item>
                    <nz-form-label [nzSpan]="7" nzRequired>Object array 1</nz-form-label>
                    <nz-form-control [nzSpan]="12" nzHasFeedback>
                        <textarea formControlName="prop1" nz-input rows="2" placeholder="write any thing"></textarea>
                        <nz-form-explain *ngIf="validateForm.get('array.'+i+'.prop1').dirty&&validateForm.get('array.'+i+'.prop1').hasError('required')">Please write something here!</nz-form-explain>
                    </nz-form-control>
                </nz-form-item>
                <nz-form-item>
                    <nz-form-label [nzSpan]="7" nzRequired>Object array 2</nz-form-label>
                    <nz-form-control [nzSpan]="12" nzHasFeedback>
                        <textarea formControlName="prop2" nz-input rows="2" placeholder="write any thing"></textarea>
                        <nz-form-explain *ngIf="validateForm.get('array.'+i+'.prop2').dirty&&validateForm.get('array.'+i+'.prop2').hasError('required')">Please write something here!</nz-form-explain>
                    </nz-form-control>
                </nz-form-item>
            </div>
        </ng-container> -->
    </div>


    <nz-form-item>
        <nz-form-control [nzOffset]="7" [nzSpan]="12" nzHasFeedback>
            <button nz-button nzType="primary" [disabled]="!validateForm.valid">Submit</button>
            <button nz-button (click)="resetForm($event)">Reset</button>
        </nz-form-control>
    </nz-form-item>
</form>
